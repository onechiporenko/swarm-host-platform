import { Lair } from '@swarm-host/server';
import { expect } from 'chai';
import ParentFactory from '../../../../app/factories/nested/parent';

let lair;
describe('#ParentFactory', () => {
  beforeEach(() => {
    Lair.cleanLair();
    lair = Lair.getLair();
    lair.registerFactory(ParentFactory);
  });

  afterEach(() => {
    Lair.cleanLair();
  });

  describe('should create a record', () => {
    let record;
    beforeEach(() => {
      record = lair.createRecords('parent', 1).pop();
    });

    it('with defined attr `id`', () => {
      expect(record).to.have.property('id');
    });
  });
});
